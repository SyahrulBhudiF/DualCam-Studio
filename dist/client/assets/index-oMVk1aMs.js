import{b as v,i as y,r as S,j as e}from"./main-DZWvjlLQ.js";import{u as C,L as n}from"./label-B01KzJ1v.js";import{B as u}from"./button-DhTWMI0i.js";import{C as w,a as F,b as f,c as B,d as P}from"./card-CksVaWOc.js";import{f as I,g as q,h as D,i as T,j as A,k as L}from"./index-YHAXHqCs.js";import{I as t}from"./input-CBEPYGHf.js";import{S as V,a as z,b as E,c as K,d as x}from"./select-DCsT-fDP.js";import{o as m,_ as M,n as G,s as i,e as d}from"./schemas-B8WLmFja.js";import{u as U}from"./UserStore-CFJDJ2oP.js";import"./utils-CwvXAYlB.js";import"./index-COLG3_It.js";import"./index-xaBr0Lpv.js";const H=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,}$/,g=i().min(8,"Password must be at least 8 characters long").refine(l=>H.test(l),{message:"Password must include at least one uppercase, one lowercase, one number, and one special character"});m({email:d(),password:g});m({email:d(),password:g,redirectUrl:i().optional()});const J=m({email:d(),name:i().min(1,"Name is required"),nim:i().min(1,"NIM is required"),class:i().min(1,"Class is required"),semester:i().min(1,"Semester is required"),age:G().min(0,"Age must be a positive number"),gender:M(["L","P"],{message:"Gender is required"})});function R(){const l=v(),p=U(),j=y(),[b,o]=S.useState(!1),r=C({defaultValues:{email:"",name:"",nim:"",class:"",semester:"",age:"",gender:"",mode:"segmented"},validators:{onSubmit:({value:a})=>{const s=J.safeParse({email:a.email,name:a.name,nim:a.nim,class:a.class,semester:a.semester,age:Number(a.age),gender:a.gender});if(!s.success)return s.error.issues.reduce((c,h)=>{const k=h.path[0];return c[k]=h.message,c},{})}},onSubmit:async({value:a})=>{p.setUser({email:a.email,name:a.name,nim:a.nim,class:a.class,semester:a.semester,age:Number(a.age),gender:a.gender}),j.reset(),o(!0)}}),N=()=>{const a=r.getFieldValue("mode");l(a==="segmented"?{to:"/questionnaire/segmented"}:{to:"/questionnaire"})};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-muted/40 p-4",children:[e.jsxs(w,{className:"w-full max-w-md shadow-lg",children:[e.jsxs(F,{className:"text-center",children:[e.jsx(f,{className:"text-2xl font-bold",children:"Student Profile"}),e.jsx(B,{children:"Enter your details to start the questionnaire."})]}),e.jsx(P,{children:e.jsxs("form",{onSubmit:a=>{a.preventDefault(),a.stopPropagation(),r.handleSubmit()},className:"space-y-6",children:[e.jsx(r.Field,{name:"email",children:a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(t,{id:"email",placeholder:"ahmad@example.com",value:a.state.value,onBlur:a.handleBlur,onChange:s=>a.handleChange(s.target.value)}),a.state.meta.errors?.[0]&&e.jsx("p",{className:"text-sm text-destructive",children:a.state.meta.errors[0]})]})}),e.jsx(r.Field,{name:"name",children:a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"Full Name"}),e.jsx(t,{id:"name",placeholder:"Ahmad",value:a.state.value,onBlur:a.handleBlur,onChange:s=>a.handleChange(s.target.value)}),a.state.meta.errors?.[0]&&e.jsx("p",{className:"text-sm text-destructive",children:a.state.meta.errors[0]})]})}),e.jsx(r.Field,{name:"nim",children:a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"nim",children:"NIM"}),e.jsx(t,{id:"nim",placeholder:"2141720000",type:"number",value:a.state.value,onBlur:a.handleBlur,onChange:s=>a.handleChange(s.target.value)}),a.state.meta.errors?.[0]&&e.jsx("p",{className:"text-sm text-destructive",children:a.state.meta.errors[0]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r.Field,{name:"class",children:a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"class",children:"Class"}),e.jsx(t,{id:"class",placeholder:"TI-4G",value:a.state.value,onBlur:a.handleBlur,onChange:s=>a.handleChange(s.target.value)}),a.state.meta.errors?.[0]&&e.jsx("p",{className:"text-sm text-destructive",children:a.state.meta.errors[0]})]})}),e.jsx(r.Field,{name:"semester",children:a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"semester",children:"Semester"}),e.jsx(t,{id:"semester",placeholder:"8",value:a.state.value,onBlur:a.handleBlur,onChange:s=>a.handleChange(s.target.value)}),a.state.meta.errors?.[0]&&e.jsx("p",{className:"text-sm text-destructive",children:a.state.meta.errors[0]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r.Field,{name:"age",children:a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"age",children:"Age"}),e.jsx(t,{id:"age",type:"number",placeholder:"21",value:a.state.value,onBlur:a.handleBlur,onChange:s=>a.handleChange(s.target.value)}),a.state.meta.errors?.[0]&&e.jsx("p",{className:"text-sm text-destructive",children:a.state.meta.errors[0]})]})}),e.jsx(r.Field,{name:"gender",children:a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"gender",children:"Gender"}),e.jsxs(V,{value:a.state.value,onValueChange:a.handleChange,children:[e.jsx(z,{id:"gender",className:"w-full",children:e.jsx(E,{placeholder:"Select"})}),e.jsxs(K,{children:[e.jsx(x,{value:"L",children:"Laki-laki"}),e.jsx(x,{value:"P",children:"Perempuan"})]})]}),a.state.meta.errors?.[0]&&e.jsx("p",{className:"text-sm text-destructive",children:a.state.meta.errors[0]})]})})]}),e.jsx(u,{type:"submit",className:"w-full cursor-pointer",size:"lg",children:"Next Step"})]})})]}),e.jsx(I,{open:b,onOpenChange:o,children:e.jsxs(q,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(D,{children:[e.jsx(T,{className:"text-xl font-bold text-center mb-2",children:"Petunjuk Pengerjaan Kuesioner Kebutuhan Psikologis"}),e.jsx(A,{className:"sr-only",children:"Instruksi pengisian kuesioner."})]}),e.jsxs("div",{className:"space-y-4 text-sm text-muted-foreground leading-relaxed",children:[e.jsx("p",{children:"Kuesioner ini berisi pernyataan-pernyataan tentang perasaan dan pengalaman anda dalam kehidupan sehari-hari, terutama terkait dengan kehidupan yang anda rasakan di Sekolah. Tidak ada jawaban yang benar atau salah. Kami hanya ingin mengetahui apa yang sedang anda alami saat ini."}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border border-border",children:[e.jsx("strong",{className:"block mb-2 text-foreground",children:"Cara mengisi:"}),e.jsxs("ol",{className:"list-decimal pl-5 space-y-2",children:[e.jsx("li",{children:"Bacalah setiap pernyataan dengan cermat."}),e.jsx("li",{children:"Isi identitas diri yang diminta."}),e.jsx("li",{children:"Tentukan seberapa besar anda setuju atau tidak setuju dengan pernyataan tersebut."}),e.jsx("li",{children:"Beri tanda (V) atau pilih salah satu angka dari 1 hingga 4 di sebelah pernyataan yang sesuai dengan perasaan anda."}),e.jsxs("li",{children:["Skala yang digunakan adalah sebagai berikut:",e.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-foreground",children:"1"})," = Sangat Tidak Setuju"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-foreground",children:"2"})," = Tidak Setuju"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-foreground",children:"3"})," = Setuju"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-foreground",children:"4"})," = Sangat Setuju"]})]})]})]})]}),e.jsx("p",{className:"italic",children:"Tidak perlu terlalu lama berpikir, jawablah sesuai dengan apa yang anda rasakan secara spontan. Jawaban anda akan sangat membantu dalam memahami perasaan anda terkait kebutuhan psikologis dalam kehidupan sehari-hari."}),e.jsxs("div",{className:"p-3 rounded border-2 border-primary/50 text-red-400 text-xs",children:[e.jsx("strong",{children:"Contoh:"})," Jika pernyataan berbunyi"," ",e.jsx("em",{children:'"Saya merasa aman di sekolah"'}),", dan kamu merasa bahwa pernyataan ini sangat sesuai dengan dirimu, maka kamu dapat memilih angka 4 pada skala tersebut."]})]}),e.jsx(L,{className:"mt-6 sm:justify-center",children:e.jsx(u,{onClick:N,size:"lg",className:"w-full sm:w-auto cursor-pointer",children:"Mulai Mengerjakan"})})]})})]})}const ne=R;export{ne as component};
